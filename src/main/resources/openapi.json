{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "DaSSCo",
    "description" : "DaSSCO API Documentation\n",
    "version" : "1.0"
  },
  "servers" : [ {
    "url" : "${apiServerUrl}",
    "variables" : { }
  } ],
  "paths" : {
    "/v1/assets" : {
      "get" : {
        "operationId" : "getAssets",
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/AssetV1"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    },
    "/v1/institutions/{institutionName}/collections/{collectionName}/specimens/{specimenBarcode}/assets" : {
      "get" : {
        "operationId" : "getInstitutes",
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Asset"
                  }
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "post" : {
        "operationId" : "createInstitution",
        "requestBody" : {
          "content" : {
            "*/*" : {
              "schema" : {
                "$ref" : "#/components/schemas/Asset"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Collection"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "delete" : {
        "operationId" : "deleteCollection",
        "responses" : {
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    },
    "/v1/collections" : {
      "get" : {
        "operationId" : "getInstitutes_1",
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Collection"
                  }
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "post" : {
        "operationId" : "createInstitution_1",
        "requestBody" : {
          "content" : {
            "*/*" : {
              "schema" : {
                "$ref" : "#/components/schemas/Institution"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Collection"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "delete" : {
        "operationId" : "deleteCollection_1",
        "responses" : {
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    },
    "/v1/institutes" : {
      "get" : {
        "operationId" : "getInstitutes_2",
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Institute"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    },
    "/v1/institutions" : {
      "get" : {
        "operationId" : "getInstitutes_3",
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Institution"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "post" : {
        "operationId" : "createInstitution_2",
        "requestBody" : {
          "content" : {
            "*/*" : {
              "schema" : {
                "$ref" : "#/components/schemas/Institution"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Institution"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    },
    "/v1/pipelines" : {
      "get" : {
        "operationId" : "getInstitutes_4",
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Pipeline"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "post" : {
        "operationId" : "createInstitution_3",
        "requestBody" : {
          "content" : {
            "*/*" : {
              "schema" : {
                "$ref" : "#/components/schemas/Institution"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Pipeline"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    },
    "/v1/specimengraphinfo" : {
      "get" : {
        "operationId" : "getSpecimenData",
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SpecimenData"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    },
    "/v1/collections/{collectionName}/specimens" : {
      "get" : {
        "operationId" : "getSpecimen",
        "parameters" : [ {
          "name" : "collectionName",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Specimen"
                  }
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "post" : {
        "operationId" : "createSpecimen",
        "parameters" : [ {
          "name" : "collectionName",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "*/*" : {
              "schema" : {
                "$ref" : "#/components/schemas/Specimen"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Specimen"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "delete" : {
        "operationId" : "deleteSpecimen",
        "requestBody" : {
          "content" : {
            "*/*" : {
              "schema" : {
                "$ref" : "#/components/schemas/Specimen"
              }
            }
          }
        },
        "responses" : {
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    },
    "/v1/institutions/{institutionName}/workstations" : {
      "get" : {
        "operationId" : "getWorkstations",
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Workstation"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      },
      "post" : {
        "operationId" : "createInstitution_4",
        "requestBody" : {
          "content" : {
            "*/*" : {
              "schema" : {
                "$ref" : "#/components/schemas/Workstation"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Workstation"
                }
              }
            }
          },
          "400-599" : {
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DaSSCoError"
                }
              }
            }
          }
        },
        "security" : [ {
          "dassco-idp" : [ ]
        } ]
      }
    }
  },
  "components" : {
    "schemas" : {
      "AssetV1" : {
        "type" : "object",
        "properties" : {
          "originalMedia" : {
            "type" : "string"
          },
          "originalMediaTaken" : {
            "type" : "string",
            "format" : "date-time"
          },
          "digitiser" : {
            "type" : "string"
          },
          "workstationName" : {
            "type" : "string"
          },
          "pipelineName" : {
            "type" : "string"
          },
          "institution" : {
            "type" : "string"
          },
          "collection" : {
            "type" : "string"
          },
          "dateMediaCreated" : {
            "type" : "string",
            "format" : "date-time"
          },
          "mediaCreatedBy" : {
            "type" : "string"
          },
          "dateMediaUpdated" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "format" : "date-time"
            }
          },
          "mediaUpdatedBy" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "dateMediaDeleted" : {
            "type" : "string"
          },
          "mediaDeletedBy" : {
            "type" : "string"
          },
          "dateMetadataCreated" : {
            "type" : "string",
            "format" : "date-time"
          },
          "metadataCreatedBy" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "dateMetadataUpdated" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "format" : "date-time"
            }
          },
          "metadataUpdatedBy" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "audited" : {
            "type" : "string"
          },
          "auditedBy" : {
            "type" : "string"
          },
          "auditedDate" : {
            "type" : "string",
            "format" : "date-time"
          },
          "status" : {
            "type" : "string"
          },
          "storageLocation" : {
            "type" : "string"
          },
          "parent" : {
            "type" : "string"
          },
          "originalParent" : {
            "type" : "string"
          },
          "relatedMedia" : {
            "type" : "string"
          },
          "mutispecimenStatus" : {
            "type" : "string"
          },
          "otherMultispecimen" : {
            "type" : "string"
          },
          "barcode" : {
            "type" : "string"
          },
          "specimenPid" : {
            "type" : "string"
          },
          "specifySpecimenId" : {
            "type" : "string"
          },
          "specifyAttachmentId" : {
            "type" : "string"
          },
          "mediaGuid" : {
            "type" : "string"
          },
          "mediaPid" : {
            "type" : "string"
          },
          "externalLink" : {
            "type" : "string"
          },
          "payloadType" : {
            "type" : "string"
          },
          "fileFormat" : {
            "type" : "string"
          },
          "fileInfo" : {
            "type" : "string"
          },
          "accessLevel" : {
            "type" : "string"
          },
          "preparationType" : {
            "type" : "string"
          },
          "ocrText" : {
            "type" : "string"
          },
          "geographicRegion" : {
            "type" : "string"
          },
          "taxonName" : {
            "type" : "string"
          },
          "typeStatus" : {
            "type" : "string"
          },
          "specimenStorageLocation" : {
            "type" : "string"
          },
          "funding" : {
            "type" : "string"
          },
          "copyrightOwner" : {
            "type" : "string"
          },
          "license" : {
            "type" : "string"
          },
          "embargoType" : {
            "type" : "string"
          },
          "embargoNotes" : {
            "type" : "string"
          },
          "equipmentDetails" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "exposureTime" : {
            "type" : "string"
          },
          "fNumber" : {
            "type" : "string"
          },
          "focalLength" : {
            "type" : "string"
          },
          "isoSetting" : {
            "type" : "string"
          },
          "whiteBalance" : {
            "type" : "string"
          },
          "originalSpecifyMediaName" : {
            "type" : "string"
          },
          "mediaSubject" : {
            "type" : "string"
          },
          "notes" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "pushAssetToSpecify" : {
            "type" : "string"
          },
          "pushMetadataToSpecify" : {
            "type" : "string"
          }
        }
      },
      "DaSSCoError" : {
        "type" : "object",
        "properties" : {
          "type" : {
            "type" : "string",
            "enum" : [ "Error" ]
          },
          "protocolVersion" : {
            "type" : "string",
            "enum" : [ "1.0" ]
          },
          "errorCode" : {
            "type" : "string",
            "enum" : [ "BAD_REQUEST", "UPSTREAM_ERROR", "INTERNAL_ERROR" ]
          },
          "errorMessage" : {
            "type" : "string"
          }
        }
      },
      "Collection" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          },
          "institution" : {
            "type" : "string"
          }
        }
      },
      "Institution" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          }
        }
      },
      "Asset" : {
        "type" : "object",
        "properties" : {
          "asset_pid" : {
            "type" : "string"
          },
          "asset_guid" : {
            "type" : "string"
          },
          "asset_status" : {
            "type" : "string",
            "enum" : [ "WORKING_COPY", "ARCHIVE", "BEING_PROCESSED", "PROCESSING_HALTED", "ISSUE_WITH_MEDIA", "ISSUE_WITH_METADATA", "FOR_DELETION" ]
          },
          "specimen_barcodes" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "funding" : {
            "type" : "string"
          },
          "asset_subject" : {
            "type" : "string"
          },
          "payload_type" : {
            "type" : "string"
          },
          "file_formats" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "enum" : [ "TIF", "JPEG", "RAW" ]
            }
          },
          "asset_locked" : {
            "type" : "string"
          },
          "restricted_access" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "enum" : [ "USER" ]
            }
          },
          "tags" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "string"
            }
          },
          "audited" : {
            "type" : "boolean"
          },
          "asset_taken_date" : {
            "type" : "string",
            "format" : "date-time"
          },
          "institution" : {
            "type" : "string"
          },
          "collection" : {
            "type" : "string"
          },
          "pipeline" : {
            "type" : "string"
          },
          "workstation" : {
            "type" : "string"
          }
        }
      },
      "Institute" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "int64"
          },
          "label" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          },
          "ocrText" : {
            "type" : "string"
          },
          "taxonName" : {
            "type" : "string"
          },
          "geographicRegion" : {
            "type" : "string"
          },
          "properties" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "object"
            },
            "writeOnly" : true
          }
        }
      },
      "Pipeline" : {
        "type" : "object",
        "properties" : {
          "pipeline_name" : {
            "type" : "string"
          },
          "institution" : {
            "type" : "string"
          }
        }
      },
      "SpecimenData" : {
        "type" : "object",
        "properties" : {
          "instituteName" : {
            "type" : "string"
          },
          "instituteOcrText" : {
            "type" : "string"
          },
          "specimenName" : {
            "type" : "string"
          },
          "specimenMediaSubject" : {
            "type" : "string"
          },
          "specimenSpecifySpecId" : {
            "type" : "string"
          },
          "specimenSpecifyAttId" : {
            "type" : "string"
          },
          "specimenOrigSpecifyMediaName" : {
            "type" : "string"
          },
          "assetName" : {
            "type" : "string"
          },
          "assetMediaGuid" : {
            "type" : "string"
          },
          "assetFileFormat" : {
            "type" : "string"
          },
          "assetDateMediaCreated" : {
            "type" : "string"
          },
          "pipelineName" : {
            "type" : "string"
          },
          "workstationName" : {
            "type" : "string"
          },
          "createdDate" : {
            "type" : "string"
          }
        }
      },
      "Specimen" : {
        "type" : "object",
        "properties" : {
          "institution" : {
            "type" : "string"
          },
          "collection" : {
            "type" : "string"
          },
          "barcode" : {
            "type" : "string"
          },
          "specimen_pid" : {
            "type" : "string"
          },
          "preparation_type" : {
            "type" : "string"
          }
        }
      },
      "Workstation" : {
        "type" : "object",
        "properties" : {
          "workstation_name" : {
            "type" : "string"
          },
          "institution" : {
            "type" : "string"
          }
        }
      }
    },
    "securitySchemes" : {
      "dassco-idp" : {
        "type" : "oauth2",
        "flows" : {
          "authorizationCode" : {
            "authorizationUrl" : "${authServerUrl}/protocol/openid-connect/auth",
            "tokenUrl" : "${authServerUrl}/protocol/openid-connect/token"
          }
        },
        "x-client-id" : "${authClientId}",
        "x-receive-token-in" : "request-body"
      }
    }
  }
}