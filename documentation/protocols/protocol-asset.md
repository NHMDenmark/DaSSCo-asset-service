## Protocol: Asset

| Fieldname ARS[alt name]        | Desription                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Datatype                                                                     | Required in metadata                                                      | Action                                                                                                                                  | Notes                                                             |
|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|---------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
| asset_guid                     | This is the unique GUID generated for each asset and is generated before incorporation into the storage system. Parts of the string are defined based on things such as the workstation and institution, the other parts are randomly generated. This is to enable a unique name for each asset. It is mandatory for our funding that we also have persistent identifiers for each asset (ideally resolvable as well). So we imagined an easy way to do this would be to incorporate the guid into a persistent identifier that can be clicked on to resolve (see asset_pid).                     | String                                                                       | yes                                                                       |                                                                                                                                         |                                                                   |
| asset_locked                   | Flags if it is possible to edit / delete the media of this asset. Following the end of the processing associated with the pipeline and sync with Specify, assets (but not their metadata) should be locked.                                                                                                                                                                                                                                                                                                                                                                                       | boolean - defaults to false                                                  | no                                                                        |                                                                                                                                         | Meta data can always be updated.                                  |
| asset_pid                      | See answer for asset_guid. One possible PID is to construct a URL like pid.dassco.dk/GUID1234555677243. This is then the unique and resolvable identifier that we will use when sharing.                                                                                                                                                                                                                                                                                                                                                                                                          | String                                                                       | no                                                                        |                                                                                                                                         |                                                                   |
| subject[asset_subject]         | This is to define what the asset is a representation of                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | String                                                                       | no                                                                        |                                                                                                                                         |                                                                   |
| audited                        | This is to mark the record as to having been manually audited. This will occur after complete processing and syncing with Specify.                                                                                                                                                                                                                                                                                                                                                                                                                                                                | boolean                                                                      | -                                                                         |                                                                                                                                         | from event (If an audit event exists the asset has beeen audited) |
| specimens                      | A list of specimen opbjects with the following info: preparation_type, barcode and specimen_pid.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | List of Specimen.                                                            | no - can be empty                                                         |                                                                                                                                         |                                                                   |
| collection                     | This is the collection name (a collection of related specimens) within the institution that holds the specimen and should align with Specify collections for synchronisation (also part of specimen registration number for NHMA).                                                                                                                                                                                                                                                                                                                                                                | String                                                                       | yes                                                                       |                                                                                                                                         |                                                                   |
| digitiser                      | This is the name of the person who created the original asset (e.g., the name of the person who imaged the original specimen). For mass digitisation, this is filled in via the Ingestion Client.                                                                                                                                                                                                                                                                                                                                                                                                 | String                                                                       | no                                                                        | [2025-14-02 Thomas] Change the way digitiser is handled to match the description. Populate events with KC user                          |                                                                   |
| V2 feature external_publisher  | A list of URLs to external publisher sites or just names of the publishers, to which we are publishing this asset and a user can download the asset from the publisher (a reverse link). This should be searchable to see what is being published where.                                                                                                                                                                                                                                                                                                                                          | PublicationLink                                                              | no - cannot be provided on initial metadata upload.                       | [2025-14-02 Thomas] Review and document existing functionality                                                                          |                                                                   |
| file_format                    | The format of the asset. Is a list to enable future expansion, but is currently only expexted to contain one item.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | List of String Enumeration (extendable): example: "TIF"                      | no                                                                        | [2025-14-02 Thomas] Make extendable                                                                                                     |                                                                   |
| funding                        | A list of entities that helped fund the processing of the asset in some way.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | List of String                                                               | no                                                                        | [2025-14-02 Thomas] Convert to list of string                                                                                           |                                                                   |
| institution                    | The name of the Institution which owns and digitised the specimen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | String                                                                       | yes                                                                       |                                                                                                                                         |                                                                   |
| multi_specimen[multi_specimen] | Basically a multispecimen is a single image (or other type of media) that actually contains multiple specimens in it. Thus one asset is linked to multiple specimens. On one hand it is data that needs to carried through to Specify (multispecimen objects are modelled using containers in Specify); however, we can imagine needing to search on this in the storage registry to check the pipeline has worked as it should for these specimens and assets. But also, how many multispecimen objects we have dealt with is an important statistic for measuring and helping refine workflows. | boolean                                                                      | no - generated value. true if more than one specimen barcode is provided. | [2025-14-02 Thomas] A bug causes this value not to be set even if asset is connected to more than one specimen                          |                                                                   |
| parent_guid                    | This is the name of the parent media and in most cases will be the same as the original_parent_name, but can be different if a derivative of a derivative.                                                                                                                                                                                                                                                                                                                                                                                                                                        | String                                                                       | no                                                                        |                                                                                                                                         |                                                                   |
| payload_type                   | What the asset represents (important for how it is processed and when linking to Specify)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | String                                                                       | no                                                                        |                                                                                                                                         |                                                                   |
| restricted_access              | [Currently unused] We need to figure out how this would work when interacting with Specify. A specific script may need to be written.                                                                                                                                                                                                                                                                                                                                                                                                                                                             | List of string enumeration:  USER, ADMIN, SERVICE_USER, DEVELOPER            | no                                                                        |                                                                                                                                         |                                                                   |
| status                         | The current status of an asset. Should we indicate if it is being prcoessed or there is a problem, in this field? If it is being prcoessed that asset_locked field would be false, but I guess there may be other times that is so? What about if there is an issue. We need a way to see a quick summary in the UI of all issues. Not sure if this field would work for that?                                                                                                                                                                                                                    | String enumeration(Extendable): example: "WORKING_COPY"                      | yes                                                                       | [2025-14-02 Thomas] Make enum extendable                                                                                                |                                                                   |
| tags                           | We are still developing our pipelines and can imagine the need to add additional fields in the future. It would be good to have a field to cover ourselves if we discover the need to additionally annotate our metadata assets until we can add more.                                                                                                                                                                                                                                                                                                                                            | Map<String, String>                                                          | no                                                                        |                                                                                                                                         |                                                                   |
| workstation[workstation_name]  | This is the name of the workstation used to do the imaging. The name of the work_station, was used when working on this create, update or delete request.                                                                                                                                                                                                                                                                                                                                                                                                                                         | The name of the workstation                                                  | yes                                                                       |                                                                                                                                         |                                                                   |
| update_user                    | Username of the person that updated the asset                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | String                                                                       | yes                                                                       | [2025-14-02 Thomas] Find out if this can be deleted                                                                                     |                                                                   |
| pipeline[pipeline_name]        | The name of the Pipeline, which has sent an create, update or delete request to the storage service. It is the pipeline that creates the asset, but we will create derivatives (multiple assets per specimen), so will probably need to explore this in relation to specimen as well. Need to check if mandatory to create an asset (e.g., when adding assets other than via a mass digitisation pipeline).                                                                                                                                                                                       | String                                                                       | yes                                                                       |                                                                                                                                         |                                                                   |
| internal_status                | METADATA_RECEIVED: The metadata has been received and a share where files can be uploaded has been created. ASSET_RECEIVED: Assets that are pending ERDA synchronisation has this status. COMPLETED: Assets has been successfully synchronised with ERDA. It is still possible to open shares for assets with this status and update them as long as asset_locked status is not true. ERDA_ERROR: Synchronisation failed. ERDA sync has encountered some errors and have exhausted the retry attempts.                                                                                            | String enumeration: METADATA_RECEIVED, ASSET_RECEIVED, COMPLETED, ERDA_ERROR | Nog, generated value                                                      |                                                                                                                                         |                                                                   |
| make_public                    | Not all assets should necessarily be made available to external publishers (e.g., documents) or in some cases where an issue is detected with the asset. This field will be populated during image processing with a yes or no.                                                                                                                                                                                                                                                                                                                                                                   | boolean                                                                      | No, defaults to false                                                     | [2025-14-02 Thomas] Add new Field                                                                                                       |                                                                   |
| metadata_source                | This field records where the metadata is intially  generated as a json format. If possible should also note the version of the ´system´ used to generate the metadata.                                                                                                                                                                                                                                                                                                                                                                                                                            | String                                                                       | No                                                                        | [2025-14-02 Thomas] Add new field                                                                                                       |                                                                   |
| push_to_specify                | Not all assets will necessarily be pushed to Specify. Some are not needed in specify and for others there could be issues found during processing. This field will be populated during image processing with a yes or no.                                                                                                                                                                                                                                                                                                                                                                         | boolean                                                                      | No, defaults to false                                                     | [2025-14-02 Thomas] Add new field                                                                                                       |                                                                   |
| metadata_version               | The version of the metadata template used to create this particular metadata. Template that is used before/outside of ARS. We are basically moving from having this in tags to its own field.                                                                                                                                                                                                                                                                                                                                                                                                     | String                                                                       | No                                                                        | [2025-14-02 Thomas] Add new field                                                                                                       |                                                                   |
| complete_digitiser_list        | Would be for cases where multiple digitiser has worked as a team to digitise an artifact. We do not know who did exactly which part of the digitisation process. All should be given credit for the process. We provide this. It will often be empty or just contain one name from the digitiser list.                                                                                                                                                                                                                                                                                            | List of String                                                               | No, default is empty list                                                 | [2025-14-02 Thomas] Add new field                                                                                                       |                                                                   |
| camera_setting_control         | Field that would indicate if the cameras exif data falls into certain predetermined categories.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | String                                                                       | No                                                                        | [2025-14-02 Thomas] Add new field                                                                                                       |                                                                   |
| issues                         | List of known issues that have been attributed to an asset. This is not a list of errors but a list of issues that can have various effects on the asset (ex. preventing publishing, further processing).                                                                                                                                                                                                                                                                                                                                                                                         | String enum(Extendable)                                                      | No, default is empty list                                                 | [2025-14-02 Thomas] Add new field                                                                                                       |                                                                   |
| mos_id                         | Id binding multi object specimens together. This is relevant when a specimen is in multiple parts across multiple assets. Each asset has its own barcode but this id lets us identify them as a whole.                                                                                                                                                                                                                                                                                                                                                                                            | String                                                                       | No                                                                        | [2025-14-02 Thomas] Add new field                                                                                                       |                                                                   |
| asset_created_by               | This tells us who or what created the actual media files with ARS.<br>Initial sync with erda user should be noted here.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | String                                                                       | -                                                                         | [2025-14-02 Thomas] Add new field                                                                                                       | from event.user                                                   |
| date_asset_created_ars         | The date that the asset media files was added to the ARS. <br>Date of ERDA synchronization.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | ISO 8601:YYYY-MM-DDThh:mm:ssZ                                                | -                                                                         | [2025-14-02 Thomas] Add new field                                                                                                       | from event                                                        |
| asset_updated_by               | Entity that updated the asset  files. This is the user from keycloak which could include a service user, e.g. processing script.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | String                                                                       | -                                                                         | [2025-14-02 Thomas] Add new field                                                                                                       | from event.user                                                   |
| date_asset_updated_ars         | Timestamp for when an assets files have been changed. <br>part of discussion "asset_updated_by" and corresponding field is also "asset_created_by"<br>The date of ERDA synchronization.                                                                                                                                                                                                                                                                                                                                                                                                           | ISO 8601:YYYY-MM-DDThh:mm:ssZ                                                | -                                                                         | [2025-14-02 Thomas] Add new field                                                                                                       | from event                                                        |
| asset_deleted_by               | An asset could be deleted by a pipeline (and therefore the name of the pipeline that deleted the asset will be shown here. This is taken from pipeline_name). An asset could also be deleted by a member of the project team if they have sufficient privileges. Mostly this will be very rare after the asset has been locked. A record of the file should remain even if the asset no longer exists if deleted following locking of the asset (post processing).                                                                                                                                | String                                                                       | -                                                                         | [2025-14-02 Thomas] Add new field,<br>Check if record is kept on delete. Files are not kept currently. We need to handle this edge case | from event.user                                                   |
| date_asset_deleted_ars         | Date that the asset (not the metadata) was deleted. The date we synchronize ERDA.<br>Only if last asset file is deleted, else it is considered an update.                                                                                                                                                                                                                                                                                                                                                                                                                                         | ISO 8601:YYYY-MM-DDThh:mm:ssZ                                                | -                                                                         | [2025-14-02 Thomas] Add new field                                                                                                       | from event                                                        |
| date_asset_taken               | The date and time of when the original media were created (e.g., when the original raw image was taken).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ISO 8601:YYYY-MM-DDThh:mm:ssZ                                                |                                                                           |                                                                                                                                         |                                                                   |
| date_asset_finalised           | The date when an asset was finalised (the asset_locked metadata field should change to true at same time). Finalised means that all processing has been completed and that the asset cannot be changed at all, but the metadata still can.                                                                                                                                                                                                                                                                                                                                                        | ISO 8601:YYYY-MM-DDThh:mm:ssZ                                                | no                                                                        |                                                                                                                                         |                                                                   |
| audited_by                     | This is the name of the person who audited the asset. Auditing will be done independently of the digitisation and usually by the technical team leader or a senior digitiser.                                                                                                                                                                                                                                                                                                                                                                                                                     | String                                                                       | -                                                                         |                                                                                                                                         | from event.user, latest audited event                             |
| date_audited                   | This is the date the asset was audited. Auditing happens following complete processing of the asset following digitisation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | ISO 8601:YYYY-MM-DDThh:mm:ssZ                                                | -                                                                         | [2025-14-02 Thomas] rename existing                                                                                                     | from event                                                        |
| metadata_created_by            | The name of the user that creates the asset in ARS. A user can be human or a system name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | String                                                                       | -                                                                         | [2025-14-02 Thomas] Add new field                                                                                                       | from event.user                                                   |
| date_metadata_created_ars      | Date the metadata relating to an asset was created in the ARS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                              | -                                                                         | [2025-14-02 Thomas] Rename existing field                                                                                               | from event                                                        |
| metadata_updated_by            | Metadata can be updated manually, via pipelines and via Specify.<br><br>We want to be able to search for this field specifically. It should only contain the last user that did an update.<br>When bulk update the user doing that should also be noted in this field.                                                                                                                                                                                                                                                                                                                            | String                                                                       | -                                                                         | [2025-14-02 Thomas] Add new field                                                                                                       | from event.user                                                   |
| date_metadata_updated_ars      | Timestamp for when an asset's metadata was updated. This is important as the metadata can continue to be updated after the asset itself has been frozen/finalised/locked.                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                              | -                                                                         | [2025-14-02 Thomas] Rename existing                                                                                                     | from event                                                        |
| initial_metadata_recorded_by   | This field records who entered the initial metadata into the ingestion client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | String                                                                       | No                                                                        | [2025-14-02 Thomas] Is this required. is it the creator?                                                                                |                                                                   |
| date_metadata_ingested         | This field records the date the ingestion client or server generated the initial metadata on the specimen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                              | No (derivatives are not ingested)                                         | [2025-14-02 Thomas] Add new field                                                                                                       |                                                                   |
| date_pushed_to_specify         | This is the date the asset and/or its metadata was first synced with Specify.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | ISO 8601:YYYY-MM-DDThh:mm:ssZ                                                | -                                                                         | [2025-14-02 Thomas] Add new field                                                                                                       | from event                                                        |

### Internal_status

|                                                          |  |
|----------------------------------------------------------|--|
| METADATA_RECEIVED, ASSET_RECEIVED, COMPLETED, ERDA_ERROR |  |

 

 

 
